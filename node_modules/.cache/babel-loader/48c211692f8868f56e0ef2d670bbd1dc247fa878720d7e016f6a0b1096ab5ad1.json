{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\Snuggle_Read (2)\\\\Snuggle_Read (2)\\\\Snuggle_Read\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../services/api'; // your configured axios instance\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst genres = ['Fiction', 'Non-Fiction', 'Science', 'Mathematics', 'History', 'Biography', 'Fantasy', 'Romance', 'Mystery', 'Programming'];\nconst AdminDashboard = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    isAdmin\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Books state\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [imageRefresh, setImageRefresh] = useState(Date.now());\n\n  // Users state\n  const [showUsers, setShowUsers] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [usersLoading, setUsersLoading] = useState(false);\n  const [usersError, setUsersError] = useState('');\n\n  // Modal & form state\n  const [showModal, setShowModal] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    pages: '',\n    genre: '',\n    quantity: '',\n    price: '',\n    image: null\n  });\n\n  // Sales report\n  const [showReports, setShowReports] = useState(false);\n  const [salesData, setSalesData] = useState(null);\n\n  // Basic permission redirect\n  useEffect(() => {\n    if (!isAdmin) {\n      navigate('/'); // or another safe page for non-admins\n    }\n  }, [isAdmin, navigate]);\n\n  // initial books load\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  // ---------- Books CRUD ----------\n  const fetchBooks = async () => {\n    setLoading(true);\n    try {\n      const res = await api.get('/api/book/all'); // adjust as needed\n      setBooks(res.data || []);\n      setImageRefresh(Date.now()); // Refresh image cache\n    } catch (err) {\n      console.error('Failed to fetch books', err);\n      setBooks([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const openModal = (book = null) => {\n    if (book) {\n      setEditingBook(book);\n      setFormData({\n        title: book.title || '',\n        author: book.author || '',\n        pages: book.pages || '',\n        genre: book.genre || '',\n        quantity: book.quantity || '',\n        price: book.price || '',\n        image: null // don't prefill file inputs\n      });\n    } else {\n      setEditingBook(null);\n      setFormData({\n        title: '',\n        author: '',\n        pages: '',\n        genre: '',\n        quantity: '',\n        price: '',\n        image: null\n      });\n    }\n    setShowModal(true);\n  };\n  const deleteBook = async bookId => {\n    if (!window.confirm('Are you sure you want to delete this book?')) return;\n    try {\n      await api.delete(`/api/book/delete/${bookId}`);\n      await fetchBooks();\n    } catch (err) {\n      console.error(err);\n      alert('Failed to delete book');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    if (type === 'number') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const payload = new FormData();\n    payload.append('title', formData.title);\n    payload.append('author', formData.author);\n    payload.append('pages', formData.pages);\n    payload.append('genre', formData.genre);\n    payload.append('quantity', formData.quantity);\n    payload.append('price', formData.price);\n    if (formData.image) {\n      payload.append('image', formData.image);\n    }\n    try {\n      setLoading(true);\n      if (editingBook) {\n        // update - send as JSON since backend expects @RequestBody\n        const updateData = {\n          bookId: editingBook.bookId,\n          title: formData.title,\n          author: formData.author,\n          pages: parseInt(formData.pages),\n          genre: formData.genre,\n          quantity: parseInt(formData.quantity),\n          price: parseFloat(formData.price),\n          // Keep existing image data for now\n          image: editingBook.image,\n          imageContentType: editingBook.imageContentType\n        };\n        await api.put('/api/book/update', updateData, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        // If there's a new image, upload it separately\n        if (formData.image) {\n          const imageFormData = new FormData();\n          imageFormData.append('image', formData.image);\n          await api.post(`/api/book/${editingBook.bookId}/upload-image`, imageFormData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n        }\n        alert('Book updated successfully');\n      } else {\n        // create\n        await api.post('/api/book/create', payload, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        alert('Book added successfully');\n      }\n      setShowModal(false);\n      setEditingBook(null);\n      await fetchBooks();\n    } catch (err) {\n      console.error('Save failed', err);\n      alert('Failed to save book');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ---------- Users CRUD ----------\n  const fetchUsers = async () => {\n    setUsersLoading(true);\n    setUsersError('');\n    try {\n      const res = await api.get('/api/users/all');\n      setUsers(res.data || []);\n    } catch (err) {\n      console.error('Failed to fetch users', err);\n      setUsers([]);\n      setUsersError('Failed to load users');\n    } finally {\n      setUsersLoading(false);\n    }\n  };\n  const deactivateUser = async userId => {\n    if (!window.confirm('Are you sure you want to deactivate this user?')) return;\n    try {\n      await api.put(`/api/users/deactivate/${userId}`);\n      fetchUsers();\n    } catch (error) {\n      console.error(error);\n      alert('Failed to deactivate user');\n    }\n  };\n  const reactivateUser = async userId => {\n    if (!window.confirm('Are you sure you want to reactivate this user?')) return;\n    try {\n      await api.put(`/api/users/reactivate/${userId}`);\n      fetchUsers();\n    } catch (error) {\n      console.error(error);\n      alert('Failed to reactivate user');\n    }\n  };\n  const deleteUser = async userId => {\n    if (!window.confirm('Are you sure you want to delete this user?')) return;\n    try {\n      await api.delete(`/api/users/delete/${userId}`);\n      fetchUsers();\n    } catch (error) {\n      console.error(error);\n      alert('Failed to delete user');\n    }\n  };\n\n  // ---------- Sales Report ----------\n  const generateSalesReport = async () => {\n    try {\n      const res = await api.get('/reports/sales'); // adjust path\n      setSalesData(res.data || null);\n      setShowReports(true);\n    } catch (err) {\n      console.error('Failed to get sales report', err);\n      alert('Failed to generate sales report');\n    }\n  };\n\n  // ---------- Small helper - image preview component ----------\n  const BookImage = ({\n    book\n  }) => {\n    _s();\n    const [loaded, setLoaded] = useState(false);\n    const [errored, setErrored] = useState(false);\n\n    // Only show image if the book has image data (imageContentType indicates image exists)\n    const hasImage = book.imageContentType;\n    const src = hasImage && book.bookId ? `http://localhost:8081/bookstore/api/book/${book.bookId}/image?t=${imageRefresh}` : null;\n    if (!src) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '140px',\n          height: '200px',\n          background: '#f4f4f4',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#bbb',\n            textAlign: 'center'\n          },\n          children: [\"\\uD83D\\uDCDA\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 65\n          }, this), book.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '140px',\n        height: '200px',\n        position: 'relative',\n        background: '#f4f4f4'\n      },\n      children: [!errored && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: src,\n        alt: book.title,\n        onLoad: () => setLoaded(true),\n        onError: () => setErrored(true),\n        style: {\n          width: '100%',\n          height: '100%',\n          objectFit: 'cover',\n          opacity: loaded ? 1 : 0,\n          transition: 'opacity 300ms ease-in'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this), errored && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          inset: 0,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [\"\\uD83D\\uDCDA\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 52\n          }, this), book.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ---------- Render ----------\n  _s(BookImage, \"btysgIbkbhQKyElHpRWPg6eEsM0=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      padding: '1.5rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCDA Admin Dashboard - Snuggle Read\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline\",\n          onClick: generateSalesReport,\n          children: \"\\uD83D\\uDCCA Generate Sales Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline\",\n          onClick: () => navigate('/admin/orders'),\n          children: \"\\uD83D\\uDDC2\\uFE0F Manage Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline\",\n          onClick: () => {\n            setShowUsers(true);\n            fetchUsers();\n          },\n          children: \"\\uD83D\\uDC65 Manage Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: () => openModal(),\n          children: \"\\u2795 Add New Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), showUsers && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          width: '90%',\n          maxWidth: '900px',\n          maxHeight: '90vh',\n          overflow: 'auto',\n          position: 'relative',\n          padding: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDC65 Users Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          style: {\n            position: 'absolute',\n            top: 10,\n            right: 10\n          },\n          onClick: () => setShowUsers(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), usersLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"Loading users...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }, this) : usersError ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-error\",\n          children: usersError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          style: {\n            overflowX: 'auto',\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            style: {\n              width: '100%',\n              borderCollapse: 'collapse'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  backgroundColor: '#f5f5f5'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: '1rem',\n                    textAlign: 'left',\n                    borderBottom: '2px solid #ddd'\n                  },\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: '1rem',\n                    textAlign: 'left',\n                    borderBottom: '2px solid #ddd'\n                  },\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: '1rem',\n                    textAlign: 'left',\n                    borderBottom: '2px solid #ddd'\n                  },\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: '1rem',\n                    textAlign: 'left',\n                    borderBottom: '2px solid #ddd'\n                  },\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: '1rem',\n                    textAlign: 'center',\n                    borderBottom: '2px solid #ddd'\n                  },\n                  children: \"Active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: '1rem',\n                    textAlign: 'center',\n                    borderBottom: '2px solid #ddd'\n                  },\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: users.map(user => {\n                var _user$contact;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    borderBottom: '1px solid #eee'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '1rem'\n                    },\n                    children: [user.userFirstName, \" \", user.userLastName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '1rem'\n                    },\n                    children: user.userEmail\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '1rem'\n                    },\n                    children: user.userPhoneNumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '1rem'\n                    },\n                    children: ((_user$contact = user.contact) === null || _user$contact === void 0 ? void 0 : _user$contact.address) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '1rem',\n                      textAlign: 'center'\n                    },\n                    children: user.active ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'green',\n                        fontWeight: 'bold'\n                      },\n                      children: \"Active\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 42\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'red',\n                        fontWeight: 'bold'\n                      },\n                      children: \"Inactive\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 111\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '1rem',\n                      textAlign: 'center'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: '0.5rem',\n                        justifyContent: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-secondary\",\n                        style: {\n                          fontSize: '0.8rem',\n                          padding: '0.3rem 0.6rem'\n                        },\n                        onClick: () => alert('Edit user not implemented in dashboard. Use Users page for full edit.'),\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 29\n                      }, this), user.active ? /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn\",\n                        style: {\n                          backgroundColor: '#ffc107',\n                          color: '#333',\n                          fontSize: '0.8rem',\n                          padding: '0.3rem 0.6rem'\n                        },\n                        onClick: () => deactivateUser(user.userId),\n                        children: \"Deactivate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn\",\n                        style: {\n                          backgroundColor: '#28a745',\n                          color: '#fff',\n                          fontSize: '0.8rem',\n                          padding: '0.3rem 0.6rem'\n                        },\n                        onClick: () => reactivateUser(user.userId),\n                        children: \"Reactivate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn\",\n                        style: {\n                          backgroundColor: '#dc3545',\n                          color: '#fff',\n                          fontSize: '0.8rem',\n                          padding: '0.3rem 0.6rem'\n                        },\n                        onClick: () => deleteUser(user.userId),\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 25\n                  }, this)]\n                }, user.userId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              padding: '1rem'\n            },\n            children: \"No users found.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-grid\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gap: '1rem',\n        marginBottom: '1.5rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA Statistics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '1rem',\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '2rem',\n                fontWeight: 'bold',\n                color: '#2a5298'\n              },\n              children: books.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Total Books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '2rem',\n                fontWeight: 'bold',\n                color: '#27ae60'\n              },\n              children: books.reduce((sum, book) => sum + (Number(book.quantity) || 0), 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Total Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCD6 Genre Distribution\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1rem'\n          },\n          children: genres.slice(0, 6).map(genre => {\n            const count = books.filter(book => book.genre === genre).length;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: '0.5rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: genre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: 'bold',\n                  color: '#2a5298'\n                },\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)]\n            }, genre, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading books...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books-grid\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n        gap: '1rem'\n      },\n      children: books.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-card\",\n        style: {\n          display: 'flex',\n          gap: '1rem',\n          padding: '1rem',\n          border: '1px solid #eee',\n          borderRadius: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(BookImage, {\n          book: book\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-content\",\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"book-title\",\n            style: {\n              margin: 0\n            },\n            children: book.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-author\",\n            style: {\n              margin: '0.25rem 0'\n            },\n            children: [\"by \", book.author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-genre\",\n            style: {\n              marginBottom: '0.5rem'\n            },\n            children: book.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Pages:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 40\n            }, this), \" \", book.pages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `book-stock ${book.quantity < 5 ? 'stock-low' : ''}`,\n            style: {\n              marginTop: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Stock:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), \" \", book.quantity, \" copies\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-price\",\n            style: {\n              marginTop: '0.5rem',\n              fontWeight: 'bold'\n            },\n            children: [\"R\", (Number(book.price) || 0).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '0.5rem',\n              marginTop: 'auto'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning btn-small\",\n              onClick: () => openModal(book),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger btn-small\",\n              onClick: () => deleteBook(book.bookId),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this)]\n      }, book.bookId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), books.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '3rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No books in inventory\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Start by adding your first book to the collection!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      style: {\n        position: 'fixed',\n        inset: 0,\n        background: 'rgba(0,0,0,0.5)',\n        zIndex: 10003,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingTop: '20px'\n      },\n      onClick: () => setShowModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        style: {\n          width: '90%',\n          maxWidth: '700px',\n          maxHeight: '85vh',\n          background: '#fff',\n          padding: '1.5rem',\n          borderRadius: '8px',\n          marginTop: '20px',\n          overflowY: 'auto',\n          boxShadow: '0 10px 30px rgba(0,0,0,0.3)'\n        },\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: editingBook ? 'Edit Book' : 'Add New Book'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '0.75rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"title\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleInputChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '0.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '0.75rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"author\",\n              children: \"Author:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"author\",\n              name: \"author\",\n              value: formData.author,\n              onChange: handleInputChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '0.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"pages\",\n                children: \"Pages:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"pages\",\n                name: \"pages\",\n                value: formData.pages,\n                onChange: handleInputChange,\n                min: \"1\",\n                required: true,\n                style: {\n                  width: '100%',\n                  padding: '0.5rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"quantity\",\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"quantity\",\n                name: \"quantity\",\n                value: formData.quantity,\n                onChange: handleInputChange,\n                min: \"0\",\n                required: true,\n                style: {\n                  width: '100%',\n                  padding: '0.5rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginTop: '0.75rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"genre\",\n              children: \"Genre:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"genre\",\n              name: \"genre\",\n              value: formData.genre,\n              onChange: handleInputChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '0.5rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a genre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), genres.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: g,\n                children: g\n              }, g, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 36\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginTop: '0.75rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"price\",\n              children: \"Price (R):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"price\",\n              name: \"price\",\n              value: formData.price,\n              onChange: handleInputChange,\n              step: \"0.01\",\n              min: \"0\",\n              required: true,\n              style: {\n                width: '100%',\n                padding: '0.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginTop: '0.75rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image\",\n              children: \"Book Cover Image:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"image\",\n              name: \"image\",\n              accept: \"image/*\",\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                image: e.target.files[0] || null\n              })),\n              style: {\n                display: 'block',\n                marginTop: '0.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this), formData.image && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '0.5rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCCE Selected:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 73\n              }, this), \" \", formData.image.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              justifyContent: 'flex-end',\n              marginTop: '1.25rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => {\n                setShowModal(false);\n                setEditingBook(null);\n              },\n              disabled: loading,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              disabled: loading,\n              children: loading ? 'Saving...' : editingBook ? 'Update Book' : 'Add Book'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this), showReports && salesData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      style: {\n        position: 'fixed',\n        inset: 0,\n        background: 'rgba(0,0,0,0.5)',\n        zIndex: 1200,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      onClick: () => setShowReports(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        style: {\n          width: '95%',\n          maxWidth: '900px',\n          maxHeight: '90vh',\n          overflowY: 'auto',\n          background: '#fff',\n          padding: '1rem',\n          borderRadius: '8px'\n        },\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDCCA Sales Report & Analytics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setShowReports(false),\n            children: \"\\u2715 Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              textAlign: 'center',\n              padding: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCE6 Total Orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '1.5rem',\n                fontWeight: 'bold'\n              },\n              children: salesData.totalOrders\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"Today: \", salesData.ordersToday, \" | Week: \", salesData.ordersThisWeek, \" | Month: \", salesData.ordersThisMonth]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              textAlign: 'center',\n              padding: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCB0 Total Revenue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '1.5rem',\n                fontWeight: 'bold'\n              },\n              children: [\"R\", (salesData.totalRevenue || 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"Avg Order: R\", (salesData.averageOrderValue || 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              textAlign: 'center',\n              padding: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCDA Books Sold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '1.5rem',\n                fontWeight: 'bold'\n              },\n              children: salesData.totalQuantitySold\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Total quantity across all orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              textAlign: 'center',\n              padding: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCB0 Revenue Growth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '1.5rem',\n                fontWeight: 'bold'\n              },\n              children: [\"R\", salesData.averageOrderValue ? salesData.averageOrderValue.toFixed(2) : '0.00']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Average order value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            marginBottom: '1rem',\n            padding: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC8 Top Selling Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxHeight: '300px',\n              overflowY: 'auto'\n            },\n            children: salesData.topBooks && salesData.topBooks.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n              style: {\n                width: '100%',\n                borderCollapse: 'collapse'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    background: '#f8f9fa',\n                    borderBottom: '2px solid #dee2e6'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      padding: '0.75rem',\n                      textAlign: 'left'\n                    },\n                    children: \"Book\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      padding: '0.75rem',\n                      textAlign: 'center'\n                    },\n                    children: \"Quantity Sold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      padding: '0.75rem',\n                      textAlign: 'right'\n                    },\n                    children: \"Revenue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: salesData.topBooks.map((book, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    borderBottom: '1px solid #dee2e6'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '0.75rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: book.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 58\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      style: {\n                        color: '#6c757d'\n                      },\n                      children: [\"by \", book.author, \" \\u2022 \", book.genre]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '0.75rem',\n                      textAlign: 'center',\n                      fontWeight: 'bold'\n                    },\n                    children: book.quantitySold\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '0.75rem',\n                      textAlign: 'right',\n                      fontWeight: 'bold',\n                      color: '#27ae60'\n                    },\n                    children: [\"R\", (book.revenue || 0).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center',\n                color: '#6c757d',\n                padding: '2rem'\n              },\n              children: \"No sales data available yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            padding: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFAD Revenue by Genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n              gap: '1rem'\n            },\n            children: salesData.revenueByGenre && salesData.revenueByGenre.length > 0 ? salesData.revenueByGenre.map((g, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '1rem',\n                border: '1px solid #dee2e6',\n                borderRadius: '8px',\n                background: '#fff'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0 0 0.5rem 0'\n                },\n                children: g.genre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold',\n                  fontSize: '1.25rem'\n                },\n                children: [\"R\", (g.revenue || 0).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#6c757d'\n                },\n                children: [g.quantity, \" books sold\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 23\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                gridColumn: '1 / -1',\n                textAlign: 'center',\n                color: '#6c757d',\n                padding: '1rem'\n              },\n              children: \"No genre data available yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem',\n            marginTop: '1rem',\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: () => {\n              const reportText = `\nSNUGGLE READ - SALES REPORT\nGenerated: ${new Date().toLocaleString()}\n\nSUMMARY:\nTotal Orders: ${salesData.totalOrders}\nTotal Revenue: R${(salesData.totalRevenue || 0).toFixed(2)}\nBooks Sold: ${salesData.totalQuantitySold}\nAverage Order Value: R${(salesData.averageOrderValue || 0).toFixed(2)}\nAverage Order Value: R${(salesData.averageOrderValue || 0).toFixed(2)}\n\nTOP BOOKS:\n${(salesData.topBooks || []).map((b, i) => `${i + 1}. ${b.title} - ${b.quantitySold} sold - R${(b.revenue || 0).toFixed(2)}`).join('\\n')}\n\nREVENUE BY GENRE:\n${(salesData.revenueByGenre || []).map(g => `${g.genre}: R${(g.revenue || 0).toFixed(2)} (${g.quantity} books)`).join('\\n')}\n                `;\n              navigator.clipboard.writeText(reportText);\n              alert('Sales report copied to clipboard!');\n            },\n            children: \"\\uD83D\\uDCCB Copy Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline\",\n            onClick: () => {\n              const data = JSON.stringify(salesData, null, 2);\n              const blob = new Blob([data], {\n                type: 'application/json'\n              });\n              const url = URL.createObjectURL(blob);\n              const a = document.createElement('a');\n              a.href = url;\n              a.download = `snuggle-read-sales-report-${new Date().toISOString().split('T')[0]}.json`;\n              a.click();\n              URL.revokeObjectURL(url);\n            },\n            children: \"\\uD83D\\uDCBE Export Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 5\n  }, this);\n};\n_s2(AdminDashboard, \"KxELYZhNbotxRloMs9xH+h8UtUI=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","api","jsxDEV","_jsxDEV","genres","AdminDashboard","_s2","_s","$RefreshSig$","isAdmin","navigate","books","setBooks","loading","setLoading","imageRefresh","setImageRefresh","Date","now","showUsers","setShowUsers","users","setUsers","usersLoading","setUsersLoading","usersError","setUsersError","showModal","setShowModal","editingBook","setEditingBook","formData","setFormData","title","author","pages","genre","quantity","price","image","showReports","setShowReports","salesData","setSalesData","fetchBooks","res","get","data","err","console","error","openModal","book","deleteBook","bookId","window","confirm","delete","alert","handleInputChange","e","name","value","type","target","prev","handleSubmit","preventDefault","payload","FormData","append","updateData","parseInt","parseFloat","imageContentType","put","headers","imageFormData","post","fetchUsers","deactivateUser","userId","reactivateUser","deleteUser","generateSalesReport","BookImage","loaded","setLoaded","errored","setErrored","hasImage","src","style","width","height","background","display","alignItems","justifyContent","children","color","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","position","alt","onLoad","onError","objectFit","opacity","transition","inset","className","padding","marginBottom","gap","onClick","top","left","right","bottom","backgroundColor","zIndex","maxWidth","maxHeight","overflow","overflowX","marginTop","borderCollapse","borderBottom","map","user","_user$contact","userFirstName","userLastName","userEmail","userPhoneNumber","contact","address","active","fontWeight","fontSize","length","gridTemplateColumns","reduce","sum","Number","slice","count","filter","border","borderRadius","flexDirection","flex","margin","toFixed","paddingTop","overflowY","boxShadow","stopPropagation","onSubmit","htmlFor","id","onChange","required","min","g","step","accept","files","disabled","totalOrders","ordersToday","ordersThisWeek","ordersThisMonth","totalRevenue","averageOrderValue","totalQuantitySold","topBooks","index","quantitySold","revenue","revenueByGenre","i","gridColumn","reportText","toLocaleString","b","join","navigator","clipboard","writeText","JSON","stringify","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","click","revokeObjectURL","_c","$RefreshReg$"],"sources":["C:/Users/User/Downloads/Snuggle_Read (2)/Snuggle_Read (2)/Snuggle_Read/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../services/api'; // your configured axios instance\r\n\r\nconst genres = [\r\n  'Fiction',\r\n  'Non-Fiction',\r\n  'Science',\r\n  'Mathematics',\r\n  'History',\r\n  'Biography',\r\n  'Fantasy',\r\n  'Romance',\r\n  'Mystery',\r\n  'Programming'\r\n];\r\n\r\nconst AdminDashboard = () => {\r\n  const { isAdmin } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Books state\r\n  const [books, setBooks] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [imageRefresh, setImageRefresh] = useState(Date.now());\r\n\r\n  // Users state\r\n  const [showUsers, setShowUsers] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [usersLoading, setUsersLoading] = useState(false);\r\n  const [usersError, setUsersError] = useState('');\r\n\r\n  // Modal & form state\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingBook, setEditingBook] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    author: '',\r\n    pages: '',\r\n    genre: '',\r\n    quantity: '',\r\n    price: '',\r\n    image: null\r\n  });\r\n\r\n  // Sales report\r\n  const [showReports, setShowReports] = useState(false);\r\n  const [salesData, setSalesData] = useState(null);\r\n\r\n  // Basic permission redirect\r\n  useEffect(() => {\r\n    if (!isAdmin) {\r\n      navigate('/'); // or another safe page for non-admins\r\n    }\r\n  }, [isAdmin, navigate]);\r\n\r\n  // initial books load\r\n  useEffect(() => {\r\n    fetchBooks();\r\n  }, []);\r\n\r\n  // ---------- Books CRUD ----------\r\n  const fetchBooks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await api.get('/api/book/all'); // adjust as needed\r\n      setBooks(res.data || []);\r\n      setImageRefresh(Date.now()); // Refresh image cache\r\n    } catch (err) {\r\n      console.error('Failed to fetch books', err);\r\n      setBooks([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const openModal = (book = null) => {\r\n    if (book) {\r\n      setEditingBook(book);\r\n      setFormData({\r\n        title: book.title || '',\r\n        author: book.author || '',\r\n        pages: book.pages || '',\r\n        genre: book.genre || '',\r\n        quantity: book.quantity || '',\r\n        price: book.price || '',\r\n        image: null // don't prefill file inputs\r\n      });\r\n    } else {\r\n      setEditingBook(null);\r\n      setFormData({\r\n        title: '',\r\n        author: '',\r\n        pages: '',\r\n        genre: '',\r\n        quantity: '',\r\n        price: '',\r\n        image: null\r\n      });\r\n    }\r\n    setShowModal(true);\r\n  };\r\n\r\n  const deleteBook = async (bookId) => {\r\n    if (!window.confirm('Are you sure you want to delete this book?')) return;\r\n    try {\r\n      await api.delete(`/api/book/delete/${bookId}`);\r\n      await fetchBooks();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to delete book');\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type } = e.target;\r\n    if (type === 'number') {\r\n      setFormData((prev) => ({ ...prev, [name]: value }));\r\n    } else {\r\n      setFormData((prev) => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = new FormData();\r\n    payload.append('title', formData.title);\r\n    payload.append('author', formData.author);\r\n    payload.append('pages', formData.pages);\r\n    payload.append('genre', formData.genre);\r\n    payload.append('quantity', formData.quantity);\r\n    payload.append('price', formData.price);\r\n\r\n    if (formData.image) {\r\n      payload.append('image', formData.image);\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      if (editingBook) {\r\n        // update - send as JSON since backend expects @RequestBody\r\n        const updateData = {\r\n          bookId: editingBook.bookId,\r\n          title: formData.title,\r\n          author: formData.author,\r\n          pages: parseInt(formData.pages),\r\n          genre: formData.genre,\r\n          quantity: parseInt(formData.quantity),\r\n          price: parseFloat(formData.price),\r\n          // Keep existing image data for now\r\n          image: editingBook.image,\r\n          imageContentType: editingBook.imageContentType\r\n        };\r\n        await api.put('/api/book/update', updateData, {\r\n          headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        \r\n        // If there's a new image, upload it separately\r\n        if (formData.image) {\r\n          const imageFormData = new FormData();\r\n          imageFormData.append('image', formData.image);\r\n          await api.post(`/api/book/${editingBook.bookId}/upload-image`, imageFormData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n          });\r\n        }\r\n        \r\n        alert('Book updated successfully');\r\n      } else {\r\n        // create\r\n        await api.post('/api/book/create', payload, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        alert('Book added successfully');\r\n      }\r\n      setShowModal(false);\r\n      setEditingBook(null);\r\n      await fetchBooks();\r\n    } catch (err) {\r\n      console.error('Save failed', err);\r\n      alert('Failed to save book');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ---------- Users CRUD ----------\r\n  const fetchUsers = async () => {\r\n    setUsersLoading(true);\r\n    setUsersError('');\r\n    try {\r\n      const res = await api.get('/api/users/all');\r\n      setUsers(res.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to fetch users', err);\r\n      setUsers([]);\r\n      setUsersError('Failed to load users');\r\n    } finally {\r\n      setUsersLoading(false);\r\n    }\r\n  };\r\n\r\n  const deactivateUser = async (userId) => {\r\n    if (!window.confirm('Are you sure you want to deactivate this user?')) return;\r\n    try {\r\n      await api.put(`/api/users/deactivate/${userId}`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Failed to deactivate user');\r\n    }\r\n  };\r\n\r\n  const reactivateUser = async (userId) => {\r\n    if (!window.confirm('Are you sure you want to reactivate this user?')) return;\r\n    try {\r\n      await api.put(`/api/users/reactivate/${userId}`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Failed to reactivate user');\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (userId) => {\r\n    if (!window.confirm('Are you sure you want to delete this user?')) return;\r\n    try {\r\n      await api.delete(`/api/users/delete/${userId}`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Failed to delete user');\r\n    }\r\n  };\r\n\r\n  // ---------- Sales Report ----------\r\n  const generateSalesReport = async () => {\r\n    try {\r\n      const res = await api.get('/reports/sales'); // adjust path\r\n      setSalesData(res.data || null);\r\n      setShowReports(true);\r\n    } catch (err) {\r\n      console.error('Failed to get sales report', err);\r\n      alert('Failed to generate sales report');\r\n    }\r\n  };\r\n\r\n  // ---------- Small helper - image preview component ----------\r\n  const BookImage = ({ book }) => {\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [errored, setErrored] = useState(false);\r\n\r\n    // Only show image if the book has image data (imageContentType indicates image exists)\r\n    const hasImage = book.imageContentType;\r\n    const src = hasImage && book.bookId ? `http://localhost:8081/bookstore/api/book/${book.bookId}/image?t=${imageRefresh}` : null;\r\n\r\n    if (!src) {\r\n      return (\r\n        <div style={{ width: '140px', height: '200px', background: '#f4f4f4', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n          <div style={{ color: '#bbb', textAlign: 'center' }}>📚<br/>{book.title}</div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div style={{ width: '140px', height: '200px', position: 'relative', background: '#f4f4f4' }}>\r\n        {!errored && (\r\n          <img\r\n            src={src}\r\n            alt={book.title}\r\n            onLoad={() => setLoaded(true)}\r\n            onError={() => setErrored(true)}\r\n            style={{\r\n              width: '100%',\r\n              height: '100%',\r\n              objectFit: 'cover',\r\n              opacity: loaded ? 1 : 0,\r\n              transition: 'opacity 300ms ease-in'\r\n            }}\r\n          />\r\n        )}\r\n        {errored && (\r\n          <div style={{ position: 'absolute', inset: 0, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n            <div style={{ textAlign: 'center' }}>📚<br/>{book.title}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ---------- Render ----------\r\n  return (\r\n    <div className=\"container\" style={{ padding: '1.5rem' }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\r\n        <h2>📚 Admin Dashboard - Snuggle Read</h2>\r\n        <div style={{ display: 'flex', gap: '1rem' }}>\r\n          <button className=\"btn btn-outline\" onClick={generateSalesReport}>📊 Generate Sales Report</button>\r\n          <button className=\"btn btn-outline\" onClick={() => navigate('/admin/orders')}>🗂️ Manage Orders</button>\r\n          <button className=\"btn btn-outline\" onClick={() => { setShowUsers(true); fetchUsers(); }}>👥 Manage Users</button>\r\n          <button className=\"btn btn-success\" onClick={() => openModal()}>➕ Add New Book</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Users Modal */}\r\n      {showUsers && (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n          <div className=\"card\" style={{ width: '90%', maxWidth: '900px', maxHeight: '90vh', overflow: 'auto', position: 'relative', padding: '1rem' }}>\r\n            <h3>👥 Users Management</h3>\r\n            <button className=\"btn btn-secondary\" style={{ position: 'absolute', top: 10, right: 10 }} onClick={() => setShowUsers(false)}>Close</button>\r\n            {usersLoading ? (\r\n              <div className=\"loading\">Loading users...</div>\r\n            ) : usersError ? (\r\n              <div className=\"alert alert-error\">{usersError}</div>\r\n            ) : (\r\n              <div className=\"table-container\" style={{ overflowX: 'auto', marginTop: '1rem' }}>\r\n                <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                  <thead>\r\n                    <tr style={{ backgroundColor: '#f5f5f5' }}>\r\n                      <th style={{ padding: '1rem', textAlign: 'left', borderBottom: '2px solid #ddd' }}>Name</th>\r\n                      <th style={{ padding: '1rem', textAlign: 'left', borderBottom: '2px solid #ddd' }}>Email</th>\r\n                      <th style={{ padding: '1rem', textAlign: 'left', borderBottom: '2px solid #ddd' }}>Phone</th>\r\n                      <th style={{ padding: '1rem', textAlign: 'left', borderBottom: '2px solid #ddd' }}>Address</th>\r\n                      <th style={{ padding: '1rem', textAlign: 'center', borderBottom: '2px solid #ddd' }}>Active</th>\r\n                      <th style={{ padding: '1rem', textAlign: 'center', borderBottom: '2px solid #ddd' }}>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {users.map(user => (\r\n                      <tr key={user.userId} style={{ borderBottom: '1px solid #eee' }}>\r\n                        <td style={{ padding: '1rem' }}>{user.userFirstName} {user.userLastName}</td>\r\n                        <td style={{ padding: '1rem' }}>{user.userEmail}</td>\r\n                        <td style={{ padding: '1rem' }}>{user.userPhoneNumber}</td>\r\n                        <td style={{ padding: '1rem' }}>{user.contact?.address || 'N/A'}</td>\r\n                        <td style={{ padding: '1rem', textAlign: 'center' }}>\r\n                          {user.active ? <span style={{ color: 'green', fontWeight: 'bold' }}>Active</span> : <span style={{ color: 'red', fontWeight: 'bold' }}>Inactive</span>}\r\n                        </td>\r\n                        <td style={{ padding: '1rem', textAlign: 'center' }}>\r\n                          <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\r\n                            <button className=\"btn btn-secondary\" style={{ fontSize: '0.8rem', padding: '0.3rem 0.6rem' }} onClick={() => alert('Edit user not implemented in dashboard. Use Users page for full edit.')}>Edit</button>\r\n                            {user.active ? (\r\n                              <button className=\"btn\" style={{ backgroundColor: '#ffc107', color: '#333', fontSize: '0.8rem', padding: '0.3rem 0.6rem' }} onClick={() => deactivateUser(user.userId)}>Deactivate</button>\r\n                            ) : (\r\n                              <button className=\"btn\" style={{ backgroundColor: '#28a745', color: '#fff', fontSize: '0.8rem', padding: '0.3rem 0.6rem' }} onClick={() => reactivateUser(user.userId)}>Reactivate</button>\r\n                            )}\r\n                            <button className=\"btn\" style={{ backgroundColor: '#dc3545', color: '#fff', fontSize: '0.8rem', padding: '0.3rem 0.6rem' }} onClick={() => deleteUser(user.userId)}>Delete</button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                {users.length === 0 && <p style={{ padding: '1rem' }}>No users found.</p>}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Stats */}\r\n      <div className=\"admin-grid\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginBottom: '1.5rem' }}>\r\n        <div className=\"card\" style={{ padding: '1rem' }}>\r\n          <h3>📊 Statistics</h3>\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', marginTop: '1rem' }}>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#2a5298' }}>{books.length}</div>\r\n              <div>Total Books</div>\r\n            </div>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#27ae60' }}>{books.reduce((sum, book) => sum + (Number(book.quantity) || 0), 0)}</div>\r\n              <div>Total Stock</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card\" style={{ padding: '1rem' }}>\r\n          <h3>📖 Genre Distribution</h3>\r\n          <div style={{ marginTop: '1rem' }}>\r\n            {genres.slice(0, 6).map(genre => {\r\n              const count = books.filter(book => book.genre === genre).length;\r\n              return (\r\n                <div key={genre} style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\r\n                  <span>{genre}</span>\r\n                  <span style={{ fontWeight: 'bold', color: '#2a5298' }}>{count}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Book grid */}\r\n      {loading && <div className=\"loading\">Loading books...</div>}\r\n\r\n      <div className=\"books-grid\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))', gap: '1rem' }}>\r\n        {books.map(book => (\r\n          <div key={book.bookId} className=\"book-card\" style={{ display: 'flex', gap: '1rem', padding: '1rem', border: '1px solid #eee', borderRadius: '8px' }}>\r\n            <BookImage book={book} />\r\n            <div className=\"book-content\" style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\r\n              <h3 className=\"book-title\" style={{ margin: 0 }}>{book.title}</h3>\r\n              <p className=\"book-author\" style={{ margin: '0.25rem 0' }}>by {book.author}</p>\r\n              <div className=\"book-genre\" style={{ marginBottom: '0.5rem' }}>{book.genre}</div>\r\n              <p style={{ margin: 0 }}><strong>Pages:</strong> {book.pages}</p>\r\n              <p className={`book-stock ${book.quantity < 5 ? 'stock-low' : ''}`} style={{ marginTop: '0.5rem' }}>\r\n                <strong>Stock:</strong> {book.quantity} copies\r\n              </p>\r\n              <div className=\"book-price\" style={{ marginTop: '0.5rem', fontWeight: 'bold' }}>R{(Number(book.price) || 0).toFixed(2)}</div>\r\n\r\n              <div style={{ display: 'flex', gap: '0.5rem', marginTop: 'auto' }}>\r\n                <button className=\"btn btn-warning btn-small\" onClick={() => openModal(book)}>Edit</button>\r\n                <button className=\"btn btn-danger btn-small\" onClick={() => deleteBook(book.bookId)}>Delete</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {books.length === 0 && !loading && (\r\n        <div style={{ textAlign: 'center', padding: '3rem' }}>\r\n          <h3>No books in inventory</h3>\r\n          <p>Start by adding your first book to the collection!</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add/Edit Modal */}\r\n      {showModal && (\r\n        <div className=\"modal-overlay\" style={{ position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.5)', zIndex: 10003, display: 'flex', alignItems: 'center', justifyContent: 'center', paddingTop: '20px' }} onClick={() => setShowModal(false)}>\r\n          <div className=\"modal-content\" style={{ width: '90%', maxWidth: '700px', maxHeight: '85vh', background: '#fff', padding: '1.5rem', borderRadius: '8px', marginTop: '20px', overflowY: 'auto', boxShadow: '0 10px 30px rgba(0,0,0,0.3)' }} onClick={(e) => e.stopPropagation()}>\r\n            <h3>{editingBook ? 'Edit Book' : 'Add New Book'}</h3>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-group\" style={{ marginBottom: '0.75rem' }}>\r\n                <label htmlFor=\"title\">Title:</label>\r\n                <input type=\"text\" id=\"title\" name=\"title\" value={formData.title} onChange={handleInputChange} required style={{ width: '100%', padding: '0.5rem' }} />\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginBottom: '0.75rem' }}>\r\n                <label htmlFor=\"author\">Author:</label>\r\n                <input type=\"text\" id=\"author\" name=\"author\" value={formData.author} onChange={handleInputChange} required style={{ width: '100%', padding: '0.5rem' }} />\r\n              </div>\r\n\r\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"pages\">Pages:</label>\r\n                  <input type=\"number\" id=\"pages\" name=\"pages\" value={formData.pages} onChange={handleInputChange} min=\"1\" required style={{ width: '100%', padding: '0.5rem' }} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"quantity\">Quantity:</label>\r\n                  <input type=\"number\" id=\"quantity\" name=\"quantity\" value={formData.quantity} onChange={handleInputChange} min=\"0\" required style={{ width: '100%', padding: '0.5rem' }} />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginTop: '0.75rem' }}>\r\n                <label htmlFor=\"genre\">Genre:</label>\r\n                <select id=\"genre\" name=\"genre\" value={formData.genre} onChange={handleInputChange} required style={{ width: '100%', padding: '0.5rem' }}>\r\n                  <option value=\"\">Select a genre</option>\r\n                  {genres.map(g => <option key={g} value={g}>{g}</option>)}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginTop: '0.75rem' }}>\r\n                <label htmlFor=\"price\">Price (R):</label>\r\n                <input type=\"number\" id=\"price\" name=\"price\" value={formData.price} onChange={handleInputChange} step=\"0.01\" min=\"0\" required style={{ width: '100%', padding: '0.5rem' }} />\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginTop: '0.75rem' }}>\r\n                <label htmlFor=\"image\">Book Cover Image:</label>\r\n                <input type=\"file\" id=\"image\" name=\"image\" accept=\"image/*\" onChange={(e) => setFormData(prev => ({ ...prev, image: e.target.files[0] || null }))} style={{ display: 'block', marginTop: '0.5rem' }} />\r\n                {formData.image && <div style={{ marginTop: '0.5rem' }}><strong>📎 Selected:</strong> {formData.image.name}</div>}\r\n              </div>\r\n\r\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end', marginTop: '1.25rem' }}>\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => { setShowModal(false); setEditingBook(null); }} disabled={loading}>Cancel</button>\r\n                <button type=\"submit\" className=\"btn btn-success\" disabled={loading}>{loading ? 'Saving...' : (editingBook ? 'Update Book' : 'Add Book')}</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Sales Report Modal */}\r\n      {showReports && salesData && (\r\n        <div className=\"modal-overlay\" style={{ position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.5)', zIndex: 1200, display: 'flex', alignItems: 'center', justifyContent: 'center' }} onClick={() => setShowReports(false)}>\r\n          <div className=\"modal\" style={{ width: '95%', maxWidth: '900px', maxHeight: '90vh', overflowY: 'auto', background: '#fff', padding: '1rem', borderRadius: '8px' }} onClick={(e) => e.stopPropagation()}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n              <h2>📊 Sales Report & Analytics</h2>\r\n              <button className=\"btn btn-secondary\" onClick={() => setShowReports(false)}>✕ Close</button>\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '1rem' }}>\r\n              <div className=\"card\" style={{ textAlign: 'center', padding: '1rem' }}>\r\n                <h3>📦 Total Orders</h3>\r\n                <div style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>{salesData.totalOrders}</div>\r\n                <small>Today: {salesData.ordersToday} | Week: {salesData.ordersThisWeek} | Month: {salesData.ordersThisMonth}</small>\r\n              </div>\r\n\r\n              <div className=\"card\" style={{ textAlign: 'center', padding: '1rem' }}>\r\n                <h3>💰 Total Revenue</h3>\r\n                <div style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>R{(salesData.totalRevenue || 0).toFixed(2)}</div>\r\n                <small>Avg Order: R{(salesData.averageOrderValue || 0).toFixed(2)}</small>\r\n              </div>\r\n\r\n              <div className=\"card\" style={{ textAlign: 'center', padding: '1rem' }}>\r\n                <h3>📚 Books Sold</h3>\r\n                <div style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>{salesData.totalQuantitySold}</div>\r\n                <small>Total quantity across all orders</small>\r\n              </div>\r\n\r\n              <div className=\"card\" style={{ textAlign: 'center', padding: '1rem' }}>\r\n                <h3>💰 Revenue Growth</h3>\r\n                <div style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>\r\n                  R{salesData.averageOrderValue ? salesData.averageOrderValue.toFixed(2) : '0.00'}\r\n                </div>\r\n                <small>Average order value</small>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card\" style={{ marginBottom: '1rem', padding: '1rem' }}>\r\n              <h3>📈 Top Selling Books</h3>\r\n              <div style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n                {salesData.topBooks && salesData.topBooks.length > 0 ? (\r\n                  <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                    <thead>\r\n                      <tr style={{ background: '#f8f9fa', borderBottom: '2px solid #dee2e6' }}>\r\n                        <th style={{ padding: '0.75rem', textAlign: 'left' }}>Book</th>\r\n                        <th style={{ padding: '0.75rem', textAlign: 'center' }}>Quantity Sold</th>\r\n                        <th style={{ padding: '0.75rem', textAlign: 'right' }}>Revenue</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {salesData.topBooks.map((book, index) => (\r\n                        <tr key={index} style={{ borderBottom: '1px solid #dee2e6' }}>\r\n                          <td style={{ padding: '0.75rem' }}>\r\n                            <strong>{book.title}</strong><br />\r\n                            <small style={{ color: '#6c757d' }}>by {book.author} • {book.genre}</small>\r\n                          </td>\r\n                          <td style={{ padding: '0.75rem', textAlign: 'center', fontWeight: 'bold' }}>{book.quantitySold}</td>\r\n                          <td style={{ padding: '0.75rem', textAlign: 'right', fontWeight: 'bold', color: '#27ae60' }}>R{(book.revenue || 0).toFixed(2)}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                ) : (\r\n                  <p style={{ textAlign: 'center', color: '#6c757d', padding: '2rem' }}>No sales data available yet.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card\" style={{ padding: '1rem', marginBottom: '1rem' }}>\r\n              <h3>🎭 Revenue by Genre</h3>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>\r\n                {salesData.revenueByGenre && salesData.revenueByGenre.length > 0 ? (\r\n                  salesData.revenueByGenre.map((g, i) => (\r\n                    <div key={i} style={{ padding: '1rem', border: '1px solid #dee2e6', borderRadius: '8px', background: '#fff' }}>\r\n                      <h4 style={{ margin: '0 0 0.5rem 0' }}>{g.genre}</h4>\r\n                      <div style={{ fontWeight: 'bold', fontSize: '1.25rem' }}>R{(g.revenue || 0).toFixed(2)}</div>\r\n                      <small style={{ color: '#6c757d' }}>{g.quantity} books sold</small>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p style={{ gridColumn: '1 / -1', textAlign: 'center', color: '#6c757d', padding: '1rem' }}>No genre data available yet.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem', justifyContent: 'center' }}>\r\n              <button className=\"btn btn-success\" onClick={() => {\r\n                const reportText = `\r\nSNUGGLE READ - SALES REPORT\r\nGenerated: ${new Date().toLocaleString()}\r\n\r\nSUMMARY:\r\nTotal Orders: ${salesData.totalOrders}\r\nTotal Revenue: R${(salesData.totalRevenue || 0).toFixed(2)}\r\nBooks Sold: ${salesData.totalQuantitySold}\r\nAverage Order Value: R${(salesData.averageOrderValue || 0).toFixed(2)}\r\nAverage Order Value: R${(salesData.averageOrderValue || 0).toFixed(2)}\r\n\r\nTOP BOOKS:\r\n${(salesData.topBooks || []).map((b, i) => `${i+1}. ${b.title} - ${b.quantitySold} sold - R${(b.revenue || 0).toFixed(2)}`).join('\\n')}\r\n\r\nREVENUE BY GENRE:\r\n${(salesData.revenueByGenre || []).map(g => `${g.genre}: R${(g.revenue || 0).toFixed(2)} (${g.quantity} books)`).join('\\n')}\r\n                `;\r\n                navigator.clipboard.writeText(reportText);\r\n                alert('Sales report copied to clipboard!');\r\n              }}>📋 Copy Report</button>\r\n\r\n              <button className=\"btn btn-outline\" onClick={() => {\r\n                const data = JSON.stringify(salesData, null, 2);\r\n                const blob = new Blob([data], { type: 'application/json' });\r\n                const url = URL.createObjectURL(blob);\r\n                const a = document.createElement('a');\r\n                a.href = url;\r\n                a.download = `snuggle-read-sales-report-${new Date().toISOString().split('T')[0]}.json`;\r\n                a.click();\r\n                URL.revokeObjectURL(url);\r\n              }}>💾 Export Data</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}